
<div class="wrap headerMoudle" data-title="策略列表"  data-nextText="情景模式列表" data-nextLink="#/web/situation.html" >

	<!--s:systemPerson-->
	<div id="sceneryMoudle">

		<div class="col mt10">
			<div class="col6 plr10"><a class="search-wrap"><input type="text" class="form-control fw12"  placeholder="请输入策略名查询" v-model.lazy="params.situational_name"> <i class="fa-search" v-on:click="refreshList"></i></a></div>
			<div class="col6 plr10"><a class=" btn btn-success J-add fw12"  v-on:click="add"><i class="fa-turkish-lira-try mr5"></i>添加策略</a></div>
		</div>

		<ul class="col" id="deviceMoudleVue">
			<li class="bd  bg-white p20 lh30 bd-radius-5 mt10" v-for="($item, $index) in list" v-if="!$item.edit" v-cloak>
				<div>
					<span class="label-name"><i class="fa-user"></i> 策略名</span>
					<span>{{$item.situational_name}}</span>
				</div>
				<div>
					<span class="label-name"><i class="fa-tablet"></i> 对应角色</span>
					<a class="label label-info label-sm J-dialog" data-url="/web/dialog/permissions.html" data-status="show" :data-admin="$item.is_admin|isAdmin" :data-role_id="$item.id"   :data-title="('当前策略：'+$item.situational_name+'的策略')" v-if="!$item.edit">查看策略</a>
					<a class="label label-info label-sm J-dialog" data-url="/web/dialog/permissions.html" data-status="show" :data-admin="$item.is_admin|isAdmin" :data-role_id="$item.id"   :data-title="('当前策略：'+$item.situational_name+'的策略')" v-if="!$item.edit">查看设备</a>
				</div>
				<div class="bd-top bd-dashed mt10 pt10">
					<a class="label label-success label-sm mr10 J-modify"  v-on:click="modify($index, $event)">修改策略名</a>
					<a class="label label-success label-sm mr10 J-dialog" data-url="/web/dialog/permissions.html" data-status="modify" :data-admin="$item.is_admin|isAdmin" :data-role_id="$item.id" :data-title="('修改策略：'+$item.situational_name+'策略')">绑定设备</a>
					<a class="label label-success label-sm mr10 J-dialog" data-url="/web/dialog/permissions.html" data-status="modify" :data-admin="$item.is_admin|isAdmin" :data-role_id="$item.id" :data-title="('修改策略：'+$item.situational_name+'策略')">修改策略</a>
					<a class="label label-danger label-sm J-delete" v-on:click="del($index, $event)"><i class="fa-trash-o" title="删除"></i></a>
				</div>
			</li>
			<li class="bd  bg-white p20 lh30 bd-radius-5 mt10" v-for="($item, $index) in list" v-else v-cloak>
				<div><input type="text" v-model="$item.new_situational_name"></div>
				<div>
					<a class="label label-success label-sm mr10 J-save" v-on:click="saveAdd($index, $event)" v-show="$item.edit=='add'">保存</a>
					<a class="label label-warning label-sm mr10 J-save" v-on:click="cancelAdd($index, $event)" v-show="$item.edit=='add'">取消</a>
					<a class="label label-success label-sm mr10 J-update" v-on:click="saveModify($index, $event)" v-show="$item.edit=='modify'">保存</a>
					<a class="label label-warning label-sm  J-update" v-on:click="cancelModify($index, $event)" v-show="$item.edit=='modify'">取消</a>
				</div>
			</li>
		</ul>

	</div>
	<!--e:systemPerson-->
</div>
